<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Caja Sorpresa Diaria</title>

<style>
  body {
    font-family: Arial, sans-serif;
    text-align: center;
  }

  .caja {
    width: 200px;
    cursor: pointer;
    transition: transform 0.3s ease;
  }

  .caja:hover {
    transform: scale(1.05);
  }

  .texto {
    margin-top: 10px;
    font-weight: bold;
    color: #555;
  }

  #mensaje {
    margin-top: 15px;
    font-size: 14px;
    color: #777;
    display: none;
  }

  audio {
    margin-top: 15px;
    width: 100%;
    display: none;
  }
</style>
</head>

<body>

<img 
  src="https://drive.google.com/thumbnail?id=1k_sTDQWqEc-6lmX069cWV2M-2fvTnPOJ&sz=w1000"
  id="caja"
  class="caja"
  onclick="abrirCaja()"
  alt="Caja sorpresa">

<!-- Modal -->
 <div id="modal" class="modal">
   <div class="modal-content">
      <h2><span class="icon-red"> üéÅ </span> Toca la caja para recibir tu regalo de hoy!</h2>
  </div>

<div id="mensaje"></div>

<audio id="audioRegalo" controls>
  <source src="https://drive.google.com/uc?export=download&id=ID_DEL_AUDIO" type="audio/mpeg">
  Tu navegador no soporta audio.
</audio>

<script>
  const hoy = new Date().toISOString().split('T')[0];
  const caja = document.getElementById("caja");
  const mensaje = document.getElementById("mensaje");
  const audio = document.getElementById("audioRegalo");

  // AL CARGAR LA P√ÅGINA
  if (localStorage.getItem("regaloDiario") === hoy) {
    caja.src =
      "https://drive.google.com/thumbnail?id=1UUXNNptnWth-ss2IJG0AhfoVk5pU0jCK&sz=w1000";
    mensaje.innerHTML = "üåô Ya abriste tu regalo hoy.<br>Vuelve ma√±ana ‚ú®";
    mensaje.style.display = "block";
  }

  function abrirCaja() {
    // Si ya abri√≥ hoy, no mostrar audio
    if (localStorage.getItem("regaloDiario") === hoy) {
      mensaje.innerHTML = "üåô Ya abriste tu regalo hoy.<br>Vuelve ma√±ana ‚ú®";
      mensaje.style.display = "block";
      return;
    }

    // Marcar como abierto hoy
    localStorage.setItem("regaloDiario", hoy);

    // Esperar a que cargue la imagen abierta
    caja.onload = function () {
      mensaje.innerHTML = "‚ú® Este es tu regalo de hoy.<br>Esc√∫chalo con calma üíõ";
      mensaje.style.display = "block";
      audio.style.display = "block";
    };

    // Cambiar a caja abierta
    caja.src =
      "https://drive.google.com/thumbnail?id=1UUXNNptnWth-ss2IJG0AhfoVk5pU0jCK&sz=w1000";
  }
</script>

</body>
</html>
